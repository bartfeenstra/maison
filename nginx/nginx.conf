events {
    worker_connections 4096;
}

http {
    #server {
    #    listen 80;
    #    server_name *.bartfeenstra.com;
    #    return 301 https://$host$uri;
    #}

    # The Unifi controller software.
    server {
        server_name network.maison.bartfeenstra.com;

        include /etc/nginx/server-common-ssl.conf;

        location / {
            include /etc/nginx/location-proxy-common.conf;
            proxy_pass http://localhost:8080;
        }
    }

    # OLA.
    server {
        server_name ola.maison.bartfeenstra.com;

        include /etc/nginx/server-common-ssl.conf;

        location / {
            include /etc/nginx/location-proxy-common.conf;
            proxy_pass http://ola:9090;
        }
    }

    # openHAB.
    server {
        server_name hab.maison.bartfeenstra.com;

        include /etc/nginx/server-common-ssl.conf;

        location / {
            include /etc/nginx/location-proxy-common.conf;
            proxy_pass http://openhab:8081;
        }
    }
}